(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["story"],{"07bf":function(e,t,n){},"1b15":function(e,t,n){},"1e5c":function(e,t,n){(function(n){var r,o;
/*!
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
(function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||a;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||a;if(e=parseFloat(e),t.ctx||p(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||a;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},unload:function(){for(var e=this||a,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{var t=new Audio;"undefined"===typeof t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{t=new Audio;t.muted&&(e.noAudio=!0)}catch(n){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(i){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),o=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(o||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||a;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var r=0;r<e.html5PoolSize;r++)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0}for(r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[r]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),"undefined"===typeof u.start?u.noteOn(0):u.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||a;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||a;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&a.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&a.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var a=new i,s=function(e){var t=this;e.src&&0!==e.src.length?t.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return a.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=a.usingWebAudio&&!t._html5,"undefined"!==typeof a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(a.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if(o=e._src[n],"string"!==typeof o){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(o),r||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new u(e),e._webAudio&&l(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var o=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(o++,r=n._sounds[i]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),_=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3,p=!(!s._loop&&!n._sprite[e][2]);s._sprite=e,s._ended=!1;var m=function(){s._paused=!1,s._seek=c,s._start=_,s._stop=f,s._loop=p};if(!(c>=f)){var h=s._node;if(n._webAudio){var y=function(){n._playLock=!1,m(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,a.ctx.currentTime),s._playStart=a.ctx.currentTime,"undefined"===typeof h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,c,86400):h.bufferSource.noteGrainOn(0,c,l):s._loop?h.bufferSource.start(0,c,86400):h.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===a.state?y():(n._playLock=!0,n.once("resume",y),n._clearTimer(s._id))}else{var v=function(){h.currentTime=c,h.muted=s._muted||n._muted||a._muted||h.muted,h.volume=s._volume*a.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,m(),r.then(function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,m(),n._emit("play",s._id),n._loadQueue()),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(o){n._emit("playerror",s._id,o)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var g=window&&window.ejecta||!h.readyState&&a._navigator.isCocoonJS;if(h.readyState>=3||g)v();else{n._playLock=!0;var b=function(){v(),h.removeEventListener(a._canPlayEvent,b,!1)};h.addEventListener(a._canPlayEvent,b,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;"undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&("undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=e,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,a.ctx.currentTime):i._node&&(i._node.muted=!!a._muted||e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&"undefined"===typeof o[1]){var i=r._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return n=t?r._soundById(t):r._sounds[0],n?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)n=r._soundById(t[u]),n&&(n._volume=e,o[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*a.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),o.volume(e,r);for(var i=o._getSoundIds(r),s=0;s<i.length;s++){var u=o._soundById(i[s]);if(u){if(r||o._stopFade(i[s]),o._webAudio&&!u._muted){var c=a.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(u,e,t,n,i[s],"undefined"===typeof r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var o=(Date.now()-d)/r;d=Date.now(),s+=u*o,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!==typeof o[0])return n=r._soundById(parseInt(o[0],10)),!!n&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)n=r._soundById(i[a]),n&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var i=r._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!==typeof e)return n=r._soundById(t),n?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u]),n){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?a.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,a.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,d=1e3*l/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?a.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){n._emit("seek",t),l&&n.play(t,!0)};if(l&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):d()};setTimeout(_,0)}else d()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(a._canPlayEvent,t[n]._loadFn,!1),a._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=a._howls.indexOf(e);r>=0&&a._howls.splice(r,1);var o=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===e._src||e._src.indexOf(a._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this,i=o["_on"+e];return"function"===typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),o},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"===typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),a._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new u(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"===typeof e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=c[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,n=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=a._scratchBuffer}catch(r){}return e.bufferSource=null,t},_clearSound:function(e){var t=/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent);t||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(e){this._parent=e,this.init()};u.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=a._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),e._node.gain.setValueAtTime(n,a.ctx.currentTime),e._node.paused=!0,e._node.connect(a.masterGain)):(e._node=a._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(a._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*a.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(a._canPlayEvent,e._loadFn,!1)}};var c={},l=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);_(r.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.withCredentials=e._xhrWithCredentials,i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?_(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},d(i)}},d=function(e){try{e.send()}catch(t){e.onerror()}},_=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,f(t,e)):n()};"undefined"!==typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(e).then(r).catch(n):a.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(a.usingWebAudio){try{"undefined"!==typeof AudioContext?a.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(o){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),t=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());(a._navigator&&a._navigator.standalone&&!r||a._navigator&&!a._navigator.standalone&&!r)&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"===typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:1,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};r=[],o=function(){return{Howler:a,Howl:s}}.apply(t,r),void 0===o||(e.exports=o),t.Howler=a,t.Howl=s,"undefined"!==typeof window?(window.HowlerGlobal=i,window.Howler=a,window.Howl=s,window.Sound=u):"undefined"!==typeof n&&(n.HowlerGlobal=i,n.Howler=a,n.Howl=s,n.Sound=u)})(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!==typeof t?r._pos[1]:t,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof e?r._pos:(r._pos=[e,t,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!==typeof t?s[1]:t,n="number"!==typeof n?s[2]:n,r="number"!==typeof r?s[3]:r,o="number"!==typeof o?s[4]:o,i="number"!==typeof i?s[5]:i,"number"!==typeof e?s:(a._orientation=[e,t,n,r,o,i],"undefined"!==typeof a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!==typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,o),"spatial"===o?"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof o){if("number"!==typeof t)return i._pos;i._pos=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!==typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),"undefined"!==typeof u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(t,n,r)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!==typeof n?i._orientation[1]:n,r="number"!==typeof r?i._orientation[2]:r,"undefined"===typeof o){if("number"!==typeof t)return i._orientation;i._orientation=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!==typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),e(u,"spatial")),"undefined"!==typeof u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!==typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;t=i[0],"undefined"===typeof n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),o._pannerAttr={coneInnerAngle:"undefined"!==typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:"undefined"!==typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:"undefined"!==typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:o._distanceModel,maxDistance:"undefined"!==typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:o._maxDistance,refDistance:"undefined"!==typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:o._refDistance,rolloffFactor:"undefined"!==typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:"undefined"!==typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s]),r){var u=r._pannerAttr;u={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:u.maxDistance,refDistance:"undefined"!==typeof t.refDistance?t.refDistance:u.refDistance,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n("c8ba"))},"1f50":function(e,t,n){"use strict";var r=n("1b15"),o=n.n(r);o.a},2666:function(e,t,n){},"26d5":function(e,t,n){"use strict";var r=n("67a4"),o=n.n(r);o.a},"2efd":function(e,t,n){"use strict";var r=n("4e3c"),o=n.n(r);o.a},"30fb":function(e,t,n){},"4e3c":function(e,t,n){},"4fd5":function(e,t,n){"use strict";var r=n("9bc7"),o=n.n(r);o.a},5118:function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},"5ec8":function(e,t,n){},6017:function(e,t,n){(function(e,t){(function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?f():p()?m():e.MessageChannel?h():s&&"onreadystatechange"in s.createElement("script")?y():v(),u.setImmediate=c,u.clearImmediate=l}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++}function l(e){delete i[e]}function d(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r);break}}function _(e){if(a)setTimeout(_,0,e);else{var t=i[e];if(t){a=!0;try{d(t)}finally{l(e),a=!1}}}}function f(){r=function(e){t.nextTick(function(){_(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function m(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&_(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}function h(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;_(t)},r=function(t){e.port2.postMessage(t)}}function y(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){_(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function v(){r=function(e){setTimeout(_,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("c8ba"),n("f28c"))},"67a4":function(e,t,n){},"7d40":function(e,t,n){"use strict";var r=n("07bf"),o=n.n(r);o.a},"80cd":function(e,t,n){"use strict";var r=n("cb3c"),o=n.n(r);o.a},"8fe0":function(e,t,n){"use strict";var r=n("5ec8"),o=n.n(r);o.a},"9bc7":function(e,t,n){},"9d30":function(e,t,n){},aa55:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"story-main"},[n("story-nav",{directives:[{name:"show",rawName:"v-show",value:!e.playingOpen&&!e.isSearching,expression:"!playingOpen && !isSearching"}],on:{go:e.go,search:function(t){e.isSearching=!0}}}),n("story-home",{directives:[{name:"show",rawName:"v-show",value:0===e.currentNav&&!e.playingOpen&&!e.isSearching,expression:"currentNav === 0 && !playingOpen && !isSearching"}]}),e.isSearching?n("story-search",{on:{close:e.closeSearch}}):e._e(),1!==e.currentNav||e.playingOpen||e.isSearching?e._e():n("album-discover"),2!==e.currentNav||e.playingOpen||e.isSearching?e._e():n("user-home"),n("transition",{attrs:{name:"bounce"}},[e.currentPlayStory&&e.playingOpen?n("playing",{attrs:{story:e.currentPlayStory,progress:e.progress,"is-playing":e.isPlaying},on:{return:e.hidePlayer,pause:e.pause,resume:e.resume}}):e._e()],1),e.currentPlayStory?n("playing-bar",{directives:[{name:"show",rawName:"v-show",value:!e.playingOpen,expression:"!playingOpen"}],attrs:{story:e.currentPlayStory,progress:e.progress,"is-playing":e.isPlaying},on:{pause:e.pause,resume:e.resume,"show-full":e.showPlayer}}):e._e()],1)},o=[],i=(n("eacd"),n("ac4d"),n("8a81"),n("ac6a"),n("96cf"),n("3b8d")),a=n("d225"),s=n("b0b4"),u=function(){function e(){Object(a["a"])(this,e),this.favorites=JSON.parse(window.localStorage.getItem("ybstory-favorites")||"[]"),this.histories=JSON.parse(window.localStorage.getItem("ybstory-histories")||"[]")}return Object(s["a"])(e,[{key:"addFavorite",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isFavorite(t)){e.next=2;break}return e.abrupt("return");case 2:this.favorites.push(t),window.localStorage.setItem("ybstory-favorites",JSON.stringify(this.favorites));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFavorites",value:function(){return this.favorites}},{key:"isFavorite",value:function(e){var t=this.favorites.filter(function(t){return t.path===e.path});return t.length>0}},{key:"addPlayHistory",value:function(e){for(var t=0;t<this.histories.length;t++)if(this.histories[t].path===e.path){this.histories.splice(t,1);break}this.histories.push(e),e.updated=(new Date).getTime(),window.localStorage.setItem("ybstory-histories",JSON.stringify(this.histories))}},{key:"getHistories",value:function(){var e=this.histories,t={day3:[],day7:[],olders:[],total:this.histories.length},n=(new Date).getTime(),r=2592e5,o=2592e5,i=!0,a=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;n-l.updated<r?t.day3.push(l):n-l.updated<o?t.day7.push(l):t.olders.push(l)}}catch(d){a=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return t}}]),e}(),c=n("1e5c"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-top-fixed"},[n("div",{staticClass:"centered"},e._l(e.navs,function(t,r){return n("a",{key:t,staticClass:"nav-item",class:e.currentNav===r?"selected":"",on:{click:function(t){return e.go(r)}}},[e._v("\n      "+e._s(t)+"\n    ")])}),0),n("div",{staticClass:"right-search"},[n("i",{staticClass:"icon-search-outline",on:{click:e.search}})])])},d=[],_={name:"NavBar",props:{},data:function(){return{navs:["推荐","发现","我的"],currentNav:0}},created:function(){},mounted:function(){},methods:{go:function(e){this.currentNav=e,window.scrollTo(0,0),this.$emit("go",e)},search:function(){this.$emit("search")}}},f=_,p=(n("80cd"),n("2877")),m=Object(p["a"])(f,l,d,!1,null,null,null),h=m.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section"},[n("div",{staticClass:"columns is-mobile is-multiline"},[n("div",{staticClass:"column is-full-mobile is-two-thirds-desktop"},[e._m(0),n("story-grids",{attrs:{stories:e.samples}})],1),n("div",{staticClass:"column is-full-mobile is-one-third-desktop"},[n("h2",{staticClass:"subtitle"},[n("i",{staticClass:"icon-user-outline",staticStyle:{color:"#FFD500"}}),e._v("今日主播: "+e._s(e.teller.name))]),n("story-list-thumb",{attrs:{stories:e.teller.list}})],1),e._l(e.labels,function(t){return n("div",{key:t.name,staticClass:"column is-full-mobile is-one-third-desktop"},[n("h2",{staticClass:"subtitle"},[n("i",{staticClass:"icon-bookmark",staticStyle:{color:"#F262D3"}}),e._v(e._s(t.name))]),n("story-list",{attrs:{stories:t.stories.list}})],1)})],2)])},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",{staticClass:"subtitle"},[n("i",{staticClass:"icon-thumbs-up",staticStyle:{color:"#41C4FF"}}),e._v(" 故事推荐")])}],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns is-mobile is-multiline story-grids"},e._l(e.stories,function(t,r){return n("div",{key:r,staticClass:"column is-one-third-mobile is-one-six-desktop",on:{click:function(n){return e.playStory(t)}}},[n("figure",{staticClass:"image is-square"},[n("img",{attrs:{src:e.CDN_IMG+"/"+t.cover+".png@w_240,h_240,s_2,q_100",alt:t.title}})]),n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("p",{staticClass:"title is-6"},[e._v(e._s(t.title))])])])])}),0)},b=[],w={data:function(){return{CDN_STORY:"http://chuchu.cdn.bcebos.com",CDN_IMG:"http://imagek.cdn.bcebos.com"}},created:function(){},filters:{timeFormat:function(e){try{var t=parseInt(e);return isNaN(t)?"0:00":Math.floor(t/60)+":"+(t%60<10?"0".concat(t%60):t%60)}catch(n){return"未知"}}},methods:{}},A={name:"StoryGrids",mixins:[w],props:{stories:{type:Array}},data:function(){return{}},methods:{playStory:function(e){this.ctx.playStory(e)}}},x=A,T=(n("4fd5"),Object(p["a"])(x,g,b,!1,null,null,null)),S=T.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"story-list"},e._l(e.stories,function(t,r){return n("article",{key:r,on:{click:function(n){return e.playStory(t)}}},[n("figure",[n("p",{staticClass:"image is-64x64"},[n("img",{attrs:{src:e.CDN_IMG+"/"+t.cover+".png@w_64,h_64,s_2,q_100",alt:t.title}})])]),n("div",[n("div",{staticClass:"content"},[n("p",{staticClass:"story-title"},[e._v("\r\n          "+e._s(t.title)+"\r\n        ")]),n("p",[t.artist?n("a",[e._v("\r\n            "+e._s(t.artist)+"\r\n          ")]):e._e(),n("a",[e._v("\r\n            时长: "+e._s(e._f("timeFormat")(t.duration))+"\r\n          ")])])])])])}),0)},C=[],I={name:"StoryList",mixins:[w],props:{stories:{type:Array}},data:function(){return{}},methods:{playStory:function(e){this.$emit("play"),this.ctx.playStory(e)}}},O=I,P=(n("1f50"),Object(p["a"])(O,k,C,!1,null,null,null)),F=P.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"story-list-thumb"},e._l(e.stories,function(t,r){return n("article",{key:r,on:{click:function(n){return e.playStory(t)}}},[n("p",{staticClass:"image is-square"},[n("img",{attrs:{src:e.CDN_IMG+"/"+t.cover+".png@w_120,h_120,s_2,q_100",alt:t.title}})]),n("div",{staticClass:"media-content"},[e._v("\r\n        "+e._s(t.title)+"\r\n    ")])])}),0)},M=[],L={name:"StoryListThumb",mixins:[w],props:{stories:{type:Array}},data:function(){return{}},methods:{playStory:function(e){this.ctx.playStory(e)}}},R=L,D=(n("7d40"),Object(p["a"])(R,H,M,!1,null,null,null)),E=D.exports,B={name:"StoryHome",components:{StoryGrids:S,StoryList:F,StoryListThumb:E},data:function(){return{samples:[],teller:{name:"",list:[]},labels:[]}},created:function(){this.loadHome()},methods:{loadHome:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.storydao.listHome();case 2:t=e.sent,this.samples=t.samples,this.teller=t.teller,this.labels=t.labels;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},G=B,j=(n("bc2b"),Object(p["a"])(G,y,v,!1,null,null,null)),N=j.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"player"},[n("div",{staticClass:"cover-container"},[n("figure",{staticClass:"image is-240x240"},[n("img",{staticClass:"is-rounded",class:e.isPlaying?"rotating":"",attrs:{src:e.CDN_IMG+"/"+e.story.cover+".png@w_240,h_240,s_2,q_100",alt:e.story.title}})]),n("i",{staticClass:"icon-left-outline",on:{click:e.returnHome}})]),n("div",{staticClass:"ctrl"},[e.isPlaying?n("i",{staticClass:"btn-ctrl icon-pause-outline",on:{click:function(t){return t.stopPropagation(),e.pause(t)}}}):e._e(),e.isPlaying?e._e():n("i",{staticClass:"btn-ctrl icon-play-outline",on:{click:function(t){return t.stopPropagation(),e.resume(t)}}}),n("span",{staticClass:"tell-progress"},[e._v(e._s(e._f("timeFormat")(e.progress))+"/"+e._s(e._f("timeFormat")(e.story.duration)))])]),n("div",{staticClass:"body"},[n("p",{staticClass:"story-name"},[e._v("\r\n      "+e._s(e.story.title)+"\r\n    ")]),n("div",{staticClass:"teller"},[e.story.artist?n("a",{staticClass:"name"},[e._v("\r\n        "+e._s(e.story.artist)+"\r\n      ")]):e._e(),n("a",{staticClass:"duration"},[e._v("\r\n        时长: "+e._s(e._f("timeFormat")(e.story.duration))+"\r\n      ")])]),n("div",{staticClass:"shares"},[n("i",{class:e.isFavorite?"icon-heart-filled":"icon-heart-1",on:{click:e.addToFavorite}}),n("a",{staticClass:"icon-download-outline",attrs:{href:e.CDN_STORY+"/"+encodeURIComponent(e.story.path),download:e.story.title+".mp3"}}),n("i",{staticClass:"icon-bookmark"})]),e._m(0),e.teller?n("div",{staticClass:"related"},[n("story-grids",{attrs:{stories:e.teller.list}})],1):e._e(),e.album?n("div",{staticClass:"related"},[n("story-grids",{attrs:{stories:e.album.list}})],1):e._e()])])},q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",{staticClass:"subtitle"},[n("i",{staticClass:"icon-thumbs-up",staticStyle:{color:"#41C4FF"}}),e._v(" 故事推荐")])}],V=(n("c5f6"),n("30fb"),n("5118")),X={name:"Playing.vue",mixins:[w],components:{StoryGrids:S},props:{story:{type:Object},progress:{type:Number},isPlaying:{type:Boolean,default:!1}},data:function(){return{isFavorite:!1,teller:{},album:{}}},watch:{story:function(){this.getRelatedStories(),this.isFavorite=this.ctx.localdao.isFavorite(this.story)}},created:function(){this.getRelatedStories()},methods:{addToFavorite:function(){this.ctx.localdao.addFavorite(this.story),this.isFavorite=!0},getRelatedStories:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.story){e.next=6;break}return e.next=3,this.ctx.storydao.getStoryRelated(this.story);case 3:t=e.sent,this.teller=t.teller,this.album=t.album;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),pause:function(){this.$emit("pause")},resume:function(){this.$emit("resume")},returnHome:function(){this.$emit("return")}}},W=X,U=(n("e537"),Object(p["a"])(W,$,q,!1,null,null,null)),Y=U.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"player-bar",on:{click:e.showFull}},[n("figure",{staticClass:"image is-48x48"},[n("img",{staticClass:"is-rounded",attrs:{src:e.CDN_IMG+"/"+e.story.cover+".png@w_240,h_240,s_2,q_100",alt:e.story.title}})]),n("div",{staticClass:"title-container"},[n("div",{staticClass:"story-title"},[e._v(e._s(e.story.title))]),n("div",{staticClass:"story-teller"},[e.story.artist?n("span",{staticClass:"artist"},[e._v(e._s(e.story.artist))]):e._e(),n("span",{staticClass:"tell-progress"},[e._v(e._s(e._f("timeFormat")(e.progress))+"/"+e._s(e._f("timeFormat")(e.story.duration)))])])]),n("div",{staticClass:"pause"},[e.isPlaying?n("i",{staticClass:"icon-pause-outline",on:{click:function(t){return t.stopPropagation(),e.pause(t)}}}):e._e(),e.isPlaying?e._e():n("i",{staticClass:"icon-play-outline",on:{click:function(t){return t.stopPropagation(),e.resume(t)}}})])])},Z=[],J={name:"PlayingBar.vue",mixins:[w],props:{story:{type:Object},progress:{type:Number},isPlaying:{type:Boolean,default:!1}},components:{},data:function(){return{}},created:function(){},methods:{showFull:function(){this.$emit("show-full")},pause:function(){this.$emit("pause")},resume:function(){this.$emit("resume")}}},z=J,K=(n("c0b5"),Object(p["a"])(z,Q,Z,!1,null,null,null)),ee=K.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"story-search"}},[n("div",{staticClass:"header"},[n("i",{staticClass:"icon-left-outline",on:{click:e.returnHome}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"query",domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("i",{staticClass:"icon-search-outline",on:{click:e.search}})]),n("div",{staticClass:"recent-searches"},[n("div",{staticClass:"title-1"},[e._v("最近搜索")]),n("div",{staticClass:"histories"},e._l(e.searchHistory,function(t,r){return n("div",{key:r,staticClass:"history",on:{click:function(n){return e.searchFromHistory(t)}}},[e._v(e._s(t))])}),0)]),n("div",{staticClass:"search-results"},[n("story-list",{attrs:{stories:e.list},on:{play:e.playClicked}}),0===e.list.length?n("div",{staticClass:"message"},[e._v("\n      没有结果\n    ")]):e._e()],1)])},ne=[],re=n("e246"),oe={components:{StoryList:F},data:function(){return{searchHistory:[],query:"",list:[]}},created:function(){this.storydao=new re["a"](this.ctx,"ybstory/story"),this.searchHistory=JSON.parse(localStorage.getItem("ybstory-searches")||[])},methods:{returnHome:function(){this.$emit("close")},playClicked:function(){this.$emit("close")},searchFromHistory:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.query=t,e.next=3,this.storydao.regex("title",this.query,10);case 3:n=e.sent,this.list=n.result;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),search:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.storydao.regex("title",this.query,10);case 2:n=e.sent,this.searchHistory.push(this.query),localStorage.setItem("ybstory-searches",JSON.stringify(this.searchHistory)),this.list=n.result;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},ie=oe,ae=(n("8fe0"),Object(p["a"])(ie,te,ne,!1,null,null,null)),se=ae.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"album-discover"}},[e.currentAlbum?e._e():n("div",{staticClass:"albums"},e._l(e.albums,function(t){return n("div",{key:t._id,staticClass:"album",on:{click:function(n){return e.openAlbum(t)}}},[n("p",{staticClass:"image"},[n("img",{attrs:{src:t.cover,alt:t.title}})]),n("div",{staticClass:"album-title"},[e._v(e._s(t.desc))]),n("div",{staticClass:"album-desc"},[e._v(e._s(t.stories)+"个故事")])])}),0),e.currentAlbum?n("div",{staticClass:"album-stories"},[n("div",{staticClass:"album"},[n("p",{staticClass:"album-cover"},[n("i",{staticClass:"icon-left-outline",on:{click:e.returnAlbumList}}),n("img",{attrs:{src:e.currentAlbum.cover,alt:e.currentAlbum.title}})]),n("div",{staticClass:"album-title"},[e._v(e._s(e.currentAlbum.desc))]),n("div",{staticClass:"album-desc"},[e._v(e._s(e.currentAlbum.stories)+"个故事")])]),n("story-list",{attrs:{stories:e.albumStories}})],1):e._e()])},ce=[],le=(n("7f7f"),{components:{StoryList:F},data:function(){return{currentAlbum:null,albums:[],albumStories:[]}},created:function(){this.albumdao=new re["a"](this.ctx,"ybstory/album"),this.storydao=new re["a"](this.ctx,"ybstory/story"),this.loadAlbums()},filters:{albumCover:function(e){}},methods:{loadAlbums:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.albumdao.list({sort:"u",order:"-1",page:1,count:100});case 3:t=e.sent,this.albums=t.list,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),alert(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),returnAlbumList:function(){this.currentAlbum=null,this.albumStories=[]},openAlbum:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentAlbum=t,e.next=3,this.storydao.regex("album",t.name);case 3:this.albumStories=e.sent.result;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}),de=le,_e=(n("26d5"),Object(p["a"])(de,ue,ce,!1,null,null,null)),fe=_e.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"user-home"}},[n("div",{staticClass:"navs"},[n("div",{staticClass:"nav",on:{click:e.showHistories}},[n("i",{staticClass:"icon-bookmark"}),n("span",[e._v("播放历史")]),n("span",{staticClass:"count"},[e._v("("+e._s(e.historyCount)+")")])]),e.historyShow?n("div",{staticClass:"histories"},[e.histories.day3.length?n("div",{staticClass:"sub-title"},[e._v("最近收听")]):e._e(),n("story-list",{attrs:{stories:e.histories.day3}}),e.histories.day7.length?n("div",{staticClass:"sub-title"},[e._v("最近一周")]):e._e(),n("story-list",{attrs:{stories:e.histories.day7}}),e.histories.olders.length?n("div",{staticClass:"sub-title"},[e._v("更早")]):e._e(),n("story-list",{attrs:{stories:e.histories.olders}})],1):e._e(),n("div",{staticClass:"nav",on:{click:e.showFavorites}},[n("i",{staticClass:"icon-heart-1"}),n("span",[e._v("收藏")]),n("span",{staticClass:"count"},[e._v("("+e._s(e.favoriteCount)+")")])]),e.favoriteShow?n("div",{staticClass:"favorites"},[n("story-list",{attrs:{stories:e.favorites}})],1):e._e()])])},me=[],he={components:{StoryList:F},data:function(){return{historyCount:this.ctx.localdao.histories.length,favoriteCount:this.ctx.localdao.favorites.length,historyShow:!1,favoriteShow:!1,favorites:this.ctx.localdao.favorites,histories:this.ctx.localdao.getHistories()}},methods:{showHistories:function(){this.historyShow=!this.historyShow},showFavorites:function(){this.favoriteShow=!this.favoriteShow}}},ye=he,ve=(n("2efd"),Object(p["a"])(ye,pe,me,!1,null,null,null)),ge=ve.exports,be={name:"Main.vue",mixins:[w],components:{StoryNav:h,StoryHome:N,Playing:Y,PlayingBar:ee,StorySearch:se,AlbumDiscover:fe,UserHome:ge},data:function(){return{isPlaying:!1,isSearching:!1,progress:0,playingOpen:!1,currentNav:0,currentPlayStory:null,playList:[]}},created:function(){this.ctx.playStory=this.play,this.ctx.localdao=new u},methods:{go:function(e){this.currentNav=e},closeSearch:function(){this.isSearching=!1},hidePlayer:function(){this.playingOpen=!1},showPlayer:function(){window.scrollTo(0,0),this.playingOpen=!0},pause:function(){this.ctx.howl&&this.ctx.howl.pause(),this.isPlaying=!1,this.inteval&&clearInterval(this.inteval)},resume:function(){this.ctx.howl&&this.ctx.howl.resume(),this.isPlaying=!0,this.startTick()},startTick:function(){var e=this;this.inteval&&clearInterval(this.inteval),this.inteval=Object(V["setInterval"])(function(){e.ctx.howl&&(e.isPlaying=e.ctx.howl.playing(),e.progress=e.ctx.howl.seek())},1e3)},play:function(e){this.currentPlayStory=e,window.scrollTo(0,0),this.playingOpen=!0,this.ctx.howl&&this.ctx.howl.unload(),this.ctx.howl=new c["Howl"]({src:["".concat(this.CDN_STORY,"/").concat(encodeURIComponent(e.path))],html5:!0,autoplay:!0,format:["mp3"]}),this.startTick(),this.ctx.localdao.addPlayHistory(e)}}},we=be,Ae=(n("e3aa"),Object(p["a"])(we,r,o,!1,null,null,null));t["default"]=Ae.exports},bc2b:function(e,t,n){"use strict";var r=n("fcc7"),o=n.n(r);o.a},c041:function(e,t,n){},c0b5:function(e,t,n){"use strict";var r=n("c041"),o=n.n(r);o.a},cb3c:function(e,t,n){},e246:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("96cf");var r=n("3b8d"),o=n("d225"),i=n("b0b4"),a=function(){function e(t,n){Object(o["a"])(this,e),this.ctx=t,this.path=n}return Object(i["a"])(e,[{key:"serialize",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"getOne",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.get("".concat(this.path,"/").concat(t)).json();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"list",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.get("".concat(this.path,"?").concat(this.serialize(t))).json();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.post("".concat(this.path),{json:t});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.ky.put("".concat(this.path,"/").concat(t),{json:n});case 2:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"regex",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.get("".concat(this.path,"/regex/").concat(t,"/").concat(n,"?limit=").concat(r||1e3),{}).json();case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"patch",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.ky.patch("".concat(this.path,"/").concat(t),{json:n});case 2:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ctx.delete("".concat(this.path,"/").concat(t._id)).json();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},e3aa:function(e,t,n){"use strict";var r=n("9d30"),o=n.n(r);o.a},e537:function(e,t,n){"use strict";var r=n("2666"),o=n.n(r);o.a},eacd:function(e,t,n){},f28c:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}})();var c,l=[],d=!1,_=-1;function f(){d&&c&&(d=!1,c.length?l=c.concat(l):_=-1,l.length&&p())}function p(){if(!d){var e=s(f);d=!0;var t=l.length;while(t){c=l,l=[];while(++_<t)c&&c[_].run();_=-1,t=l.length}c=null,d=!1,u(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||d||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},fcc7:function(e,t,n){}}]);
//# sourceMappingURL=story.f090cc32.js.map